{"version":3,"file":"index.js","sources":["../../src/components/toggles/index.js","../../src/pages/product/index.js"],"sourcesContent":["/* globals HTMLElement */\n\nconst groups = {}\nlet id = 0\n\nToggles.prototype.toggle = function (event) {\n  this[this.active ? 'close' : 'open'](event)\n}\n\nToggles.prototype.open = function (event) {\n  if (this.active) return\n  if (this.group && this.group.active && this.group.active !== this) {\n    this.group.active.close()\n    this.group.active = this\n  }\n  this.dom.toggle.classList.add(this.config.activeClass)\n  this.dom.content.classList.add(this.config.activeContentClass)\n  this.active = true\n}\n\nToggles.prototype.close = function (event) {\n  if (!this.active || (this.group && event && event.target === this.dom.toggle)) return\n  this.dom.toggle.classList.remove(this.config.activeClass)\n  this.dom.content.classList.remove(this.config.activeContentClass)\n  this.active = false\n  if (this.group && this.group.active === this) this.group.active = null\n}\n\nfunction Toggles (element, config = {}) {\n  // Create config.\n  this.config = Object.assign({\n    toggleClass: 'toggle',\n    activeClass: 'toggle--is-active',\n    contentClass: 'toggle__content',\n    activeContentClass: 'toggle__content--is-active'\n  }, config || {})\n\n  // Create initial DOM and state.\n  this.dom = {}\n  this.dom.toggle = element instanceof HTMLElement ? element : document.querySelector(element)\n  this.dom.toggle.classList.add(this.config.toggleClass)\n  this.id = this.dom.toggle.dataset.toggle\n  this.group = null\n  // If [data-toggle] does not exist, use sibling as content.\n  this.dom.content = this.id ? document.querySelector(`[data-toggle-content=\"${this.id}\"]`) : this.dom.toggle.nextElementSibling\n  this.dom.content.classList.add(this.config.contentClass)\n\n  // Set active toggle in group.\n  this.active = Boolean(this.dom.toggle.dataset.active)\n\n  // Check if this is part of a tab/accordion group.\n  this.group = this.dom.toggle.parentElement.dataset.toggleGroup\n  if (!this.group && this.dom.toggle.parentElement.querySelectorAll(`[data-toggle], ${this.config.toggleClass}`).length > 1) {\n    this.group = this.dom.toggle.parentElement.dataset.toggleGroup = (id++).toString()\n  }\n  if (this.group) {\n    this.group = groups[this.group] = groups[this.group] || {\n      active: null,\n      toggles: []\n    }\n    this.group.toggles.push(this)\n    if (this.active) this.group.active = this\n    if (!this.group.active) {\n      this.group.active = this.group.toggles[0]\n      if (!this.group.active.active) this.group.active.open()\n    }\n  }\n\n  // Hide content if not active.\n  this[this.active ? 'open' : 'close']()\n\n  // Add event listener.\n  this.dom.toggle.addEventListener('click', this.toggle.bind(this))\n}\n\nToggles.init = function (selector = '[data-toggle]') {\n  document.querySelectorAll(selector).forEach((el) => new Toggles(el))\n}\n\nexport default Toggles\n","import Toggles from '../../components/toggles/index.js'\n\nToggles.init()\n"],"names":["groups","id","Toggles","prototype","toggle","event","active","open","group","close","dom","classList","add","config","activeClass","content","activeContentClass","target","remove","element","Object","assign","toggleClass","contentClass","HTMLElement","document","querySelector","dataset","nextElementSibling","Boolean","parentElement","toggleGroup","querySelectorAll","length","toString","toggles","push","addEventListener","bind","init","selector","forEach","el"],"mappings":"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"}