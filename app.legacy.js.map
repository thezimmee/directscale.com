{"version":3,"file":"app.legacy.js","sources":["../src/components/off-canvas/index.js","../src/components/get-siblings/index.js","../src/components/toggles/index.js","../node_modules/formbouncerjs/dist/bouncer.js","../src/components/field/validator.js","../src/components/field/dirty-input.js","../src/app.js"],"sourcesContent":["class OffCanvasNav {\n  constructor (options) {\n    this.options = Object.assign({\n      toggleSelector: '.hamburger',\n      pageSelector: '.page',\n      activeClass: 'off-canvas--is-open'\n    }, options || {})\n\n    this.dom = {\n      toggle: document.querySelector(this.options.toggleSelector),\n      page: document.querySelector(this.options.pageSelector)\n    }\n\n    this.dom.toggle.addEventListener('click', this.toggle.bind(this))\n  }\n\n  toggle () {\n    this.dom.page.classList.toggle(this.options.activeClass)\n  }\n\n  open () {\n    this.dom.page.classList.add(this.options.activeClass)\n  }\n\n  close () {\n    this.dom.page.classList.remove(this.options.activeClass)\n  }\n\n  destroy () {\n    this.toggle.removeEventListener('click', this.toggle)\n  }\n}\n\nexport default OffCanvasNav\n","export default (el, selector) => {\n  return Array.prototype.filter.call(el.parentNode.children, (sibling) => {\n    return sibling !== el && (!selector || sibling.matches(selector))\n  })\n}\n","/* globals HTMLElement */\nimport getSiblings from '../get-siblings/index.js'\n\nconst groups = {}\nlet id = 0\n\nToggles.prototype.toggle = function (event) {\n  this[this.active ? 'close' : 'open'](event)\n}\n\nToggles.prototype.open = function (event) {\n  // Don't do anything if it's already active or disabled.\n  if (this.active || this.disabled) return\n  // Disable to prevent anything while animating.\n  this.disabled = true\n  // Update active toggle if it's in a group.\n  if (this.group && this.group.active && this.group.active !== this) {\n    this.group.active.close()\n    this.group.active = this\n  }\n  // Add animate in class.\n  this.dom.toggle.classList.add(this.config.animateInClass)\n  this.dom.content.classList.add(this.config.animateInClass)\n  // Activate.\n  setTimeout(() => {\n    this.dom.toggle.classList.add(this.config.activeClass)\n    this.dom.content.classList.add(this.config.activeClass)\n    this.active = true\n  }, 20)\n  // Remove animate in class.\n  setTimeout(() => {\n    this.dom.toggle.classList.remove(this.config.animateInClass)\n    this.dom.content.classList.remove(this.config.animateInClass)\n    this.disabled = false\n  }, this.config.animation + 20)\n}\n\nToggles.prototype.close = function (event) {\n  // Don't do anything if it's already inactive or disabled.\n  if (this.disabled || !this.active || (this.group && event && event.target === this.dom.toggle)) return\n  // Disable to prevent anything while animating.\n  this.disabled = true\n  // Add animate out class.\n  this.dom.toggle.classList.add(this.config.animateOutClass)\n  this.dom.content.classList.add(this.config.animateOutClass)\n  // Inactivate.\n  setTimeout(() => {\n    this.dom.toggle.classList.remove(this.config.activeClass)\n    this.dom.content.classList.remove(this.config.activeClass)\n    this.active = false\n    if (this.group && this.group.active === this) this.group.active = null\n  }, 20)\n  // Remove animate out class.\n  setTimeout(() => {\n    this.dom.toggle.classList.remove(this.config.animateOutClass)\n    this.dom.content.classList.remove(this.config.animateOutClass)\n    this.disabled = false\n  }, this.config.animation + 20)\n}\n\nfunction Toggles (element, config = {}) {\n  // Create config.\n  this.config = Object.assign({\n    animation: 400,\n    toggleClass: 'toggle',\n    contentClass: 'toggle__content',\n    groupClass: 'toggle--grouped',\n    activeClass: 'toggle--is-active',\n    animateInClass: 'toggle--in',\n    animateOutClass: 'toggle--out'\n  }, config || {})\n\n  // Create initial DOM and state.\n  this.dom = {}\n  this.dom.toggle = element instanceof HTMLElement ? element : document.querySelector(element)\n  this.dom.toggle.classList.add(this.config.toggleClass)\n  this.id = this.dom.toggle.dataset.toggle\n  this.group = null\n  // If [data-toggle] does not exist, use sibling as content.\n  this.dom.content = this.id ? document.querySelector(`[data-toggle-content=\"${this.id}\"]`) : this.dom.toggle.nextElementSibling\n  this.dom.content.classList.add(this.config.contentClass)\n  this.dom.closeButtons = this.id ? document.querySelectorAll(`[data-toggle-close=\"${this.id}\"]`) : []\n  this.dom.openButtons = this.id ? document.querySelectorAll(`[data-toggle-open=\"${this.id}\"]`) : []\n\n  // Set active toggle in group.\n  this.active = Boolean(this.dom.toggle.dataset.active)\n\n  // Get animation duration from content element.\n  if (typeof this.config.animation !== 'number') this.config.animation = 0\n  if (this.dom.content.dataset.toggleAnimation) {\n    this.config.animation = parseInt(this.dom.content.dataset.toggleAnimation, 10)\n  }\n\n  // Set disabled state to prevent clicking during animation.\n  this.disabled = false\n\n  // Check if this is part of a tab/accordion group.\n  this.group = this.dom.toggle.parentElement.dataset.toggleGroup\n  if (!this.group && getSiblings(this.dom.toggle, '[data-toggle]').length) {\n    this.group = this.dom.toggle.parentElement.dataset.toggleGroup = (id++).toString()\n  }\n  if (this.group) {\n    this.dom.toggle.classList.add(this.config.groupClass)\n    this.group = groups[this.group] = groups[this.group] || {\n      active: null,\n      toggles: []\n    }\n    this.group.toggles.push(this)\n    if (this.active) this.group.active = this\n    if (!this.group.active) {\n      this.group.active = this.group.toggles[0]\n      if (!this.group.active.active) this.group.active.open()\n    }\n  }\n\n  // Hide content if not active.\n  this[this.active ? 'open' : 'close']()\n\n  // Add event listeners.\n  this.dom.toggle.addEventListener('click', this.toggle.bind(this))\n  if (this.dom.closeButtons && this.dom.closeButtons.length) {\n    this.dom.closeButtons.forEach(button => button.addEventListener('click', this.close.bind(this)))\n  }\n  if (this.dom.openButtons && this.dom.openButtons.length) {\n    this.dom.openButtons.forEach(button => button.addEventListener('click', this.open.bind(this)))\n  }\n}\n\nToggles.init = function (selector = '[data-toggle]', config = {}) {\n  document.querySelectorAll(selector).forEach((el) => new Toggles(el, config))\n}\n\nexport default Toggles\n","/*!\n * formbouncerjs v1.4.6\n * A lightweight form validation script that augments native HTML5 form validation elements and attributes.\n * (c) 2019 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/bouncer\n */\n\n(function (root, factory) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\tdefine([], (function () {\n\t\t\treturn factory(root);\n\t\t}));\n\t} else if ( typeof exports === 'object' ) {\n\t\tmodule.exports = factory(root);\n\t} else {\n\t\troot.Bouncer = factory(root);\n\t}\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, (function (window) {\n\n\t'use strict';\n\n\t//\n\t// Variables\n\t//\n\n\tvar defaults = {\n\n\t\t// Classes & IDs\n\n\t\tfieldClass: 'error',\n\t\terrorClass: 'error-message',\n\t\tfieldPrefix: 'bouncer-field_',\n\t\terrorPrefix: 'bouncer-error_',\n\n\t\t// Patterns\n\t\tpatterns: {\n\t\t\temail: /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*(\\.\\w{2,})+$/,\n\t\t\turl: /^(?:(?:https?|HTTPS?|ftp|FTP):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/,\n\t\t\tnumber: /^(?:[-+]?[0-9]*[.,]?[0-9]+)$/,\n\t\t\tcolor: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,\n\t\t\tdate: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,\n\t\t\ttime: /^(?:(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]))$/,\n\t\t\tmonth: /^(?:(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])))$/\n\t\t},\n\n\t\t// Custom Validations\n\t\tcustomValidations: {},\n\n\t\t// Messages\n\t\tmessageAfterField: true,\n\t\tmessageCustom: 'data-bouncer-message',\n\t\tmessageTarget: 'data-bouncer-target',\n\t\tmessages: {\n\t\t\tmissingValue: {\n\t\t\t\tcheckbox: 'This field is required.',\n\t\t\t\tradio: 'Please select a value.',\n\t\t\t\tselect: 'Please select a value.',\n\t\t\t\t'select-multiple': 'Please select at least one value.',\n\t\t\t\tdefault: 'Please fill out this field.'\n\t\t\t},\n\t\t\tpatternMismatch: {\n\t\t\t\temail: 'Please enter a valid email address.',\n\t\t\t\turl: 'Please enter a URL.',\n\t\t\t\tnumber: 'Please enter a number',\n\t\t\t\tcolor: 'Please match the following format: #rrggbb',\n\t\t\t\tdate: 'Please use the YYYY-MM-DD format',\n\t\t\t\ttime: 'Please use the 24-hour time format. Ex. 23:00',\n\t\t\t\tmonth: 'Please use the YYYY-MM format',\n\t\t\t\tdefault: 'Please match the requested format.'\n\t\t\t},\n\t\t\toutOfRange: {\n\t\t\t\tover: 'Please select a value that is no more than {max}.',\n\t\t\t\tunder: 'Please select a value that is no less than {min}.'\n\t\t\t},\n\t\t\twrongLength: {\n\t\t\t\tover: 'Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.',\n\t\t\t\tunder: 'Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.'\n\t\t\t},\n\t\t\tfallback: 'There was an error with this field.'\n\t\t},\n\n\t\t// Form Submission\n\t\tdisableSubmit: false,\n\n\t\t// Custom Events\n\t\temitEvents: true\n\n\t};\n\n\n\t//\n\t// Methods\n\t//\n\n\t/**\n\t * A wrapper for Array.prototype.forEach() for non-arrays\n\t * @param  {Array-like} arr      The array-like object\n\t * @param  {Function}   callback The callback to run\n\t */\n\tvar forEach = function (arr, callback) {\n\t\tArray.prototype.forEach.call(arr, callback);\n\t};\n\n\t/**\n\t * Merge two or more objects together.\n\t * @param   {Object}   objects  The objects to merge together\n\t * @returns {Object}            Merged values of defaults and options\n\t */\n\tvar extend = function () {\n\t\tvar merged = {};\n\t\tforEach(arguments, (function (obj) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\n\t\t\t\tif (Object.prototype.toString.call(obj[key]) === '[object Object]') {\n\t\t\t\t\tmerged[key] = extend(merged[key], obj[key]);\n\t\t\t\t} else {\n\t\t\t\t\tmerged[key] = obj[key];\n\t\t\t\t}\n\t\t\t\t// merged[key] = obj[key];\n\t\t\t}\n\t\t}));\n\t\treturn merged;\n\t};\n\n\t/**\n\t * Emit a custom event\n\t * @param  {String} type    The event type\n\t * @param  {Object} options The settings object\n\t * @param  {Node}   anchor  The anchor element\n\t * @param  {Node}   toggle  The toggle element\n\t */\n\tvar emitEvent = function (elem, type, details) {\n\t\tif (typeof window.CustomEvent !== 'function') return;\n\t\tvar event = new CustomEvent(type, {\n\t\t\tbubbles: true,\n\t\t\tdetail: details || {}\n\t\t});\n\t\telem.dispatchEvent(event);\n\t};\n\n\t/**\n\t * Add the `novalidate` attribute to all forms\n\t * @param {Boolean} remove  If true, remove the `novalidate` attribute\n\t */\n\tvar addNoValidate = function (selector) {\n\t\tforEach(document.querySelectorAll(selector), (function (form) {\n\t\t\tform.setAttribute('novalidate', true);\n\t\t}));\n\t};\n\n\t/**\n\t * Remove the `novalidate` attribute to all forms\n\t */\n\tvar removeNoValidate = function (selector) {\n\t\tforEach(document.querySelectorAll(selector), (function (form) {\n\t\t\tform.removeAttribute('novalidate');\n\t\t}));\n\t};\n\n\t/**\n\t * Check if a required field is missing its value\n\t * @param  {Node} field The field to check\n\t * @return {Boolean}       It true, field is missing it's value\n\t */\n\tvar missingValue = function (field) {\n\n\t\t// If not required, bail\n\t\tif (!field.hasAttribute('required')) return false;\n\n\t\t// Handle checkboxes\n\t\tif (field.type === 'checkbox') {\n\t\t\treturn !field.checked;\n\t\t}\n\n\t\t// Get the field value length\n\t\tvar length = field.value.length;\n\n\t\t// Handle radio buttons\n\t\tif (field.type === 'radio') {\n\t\t\tlength = Array.prototype.filter.call(field.form.querySelectorAll('[name=\"' + escapeCharacters(field.name) + '\"]'), (function (btn) {\n\t\t\t\treturn btn.checked;\n\t\t\t})).length;\n\t\t}\n\n\t\t// Check for value\n\t\treturn length < 1;\n\n\t};\n\n\t/**\n\t * Check if field value doesn't match a patter.\n\t * @param  {Node}   field    The field to check\n\t * @param  {Object} settings The plugin settings\n\t * @see https://www.w3.org/TR/html51/sec-forms.html#the-pattern-attribute\n\t * @return {Boolean}         If true, there's a pattern mismatch\n\t */\n\tvar patternMismatch = function (field, settings) {\n\n\t\t// Check if there's a pattern to match\n\t\tvar pattern = field.getAttribute('pattern');\n\t\tpattern = pattern ? new RegExp('^(?:' + pattern + ')$') : settings.patterns[field.type];\n\t\tif (!pattern || !field.value || field.value.length < 1) return false;\n\n\t\t// Validate the pattern\n\t\treturn field.value.match(pattern) ? false : true;\n\n\t};\n\n\t/**\n\t * Check if field value is out-of-range\n\t * @param  {Node}    field    The field to check\n\t * @return {String}           Returns 'over', 'under', or false\n\t */\n\tvar outOfRange = function (field) {\n\n\t\t// Make sure field has value\n\t\tif (!field.value || field.value.length < 1) return false;\n\n\t\t// Check for range\n\t\tvar max = field.getAttribute('max');\n\t\tvar min = field.getAttribute('min');\n\n\t\t// Check validity\n\t\tvar num = parseFloat(field.value);\n\t\tif (max && num > max) return 'over';\n\t\tif (min && num < min) return 'under';\n\t\treturn false;\n\n\t};\n\n\t/**\n\t * Check if the field value is too long or too short\n\t * @param  {Node}   field    The field to check\n\t * @return {String}           Returns 'over', 'under', or false\n\t */\n\tvar wrongLength = function (field) {\n\n\t\t// Make sure field has value\n\t\tif (!field.value || field.value.length < 1) return false;\n\n\t\t// Check for min/max length\n\t\tvar max = field.getAttribute('maxlength');\n\t\tvar min = field.getAttribute('minlength');\n\n\t\t// Check validity\n\t\tvar length = field.value.length;\n\t\tif (max && length > max) return 'over';\n\t\tif (min && length < min) return 'under';\n\t\treturn false;\n\n\t};\n\n\t/**\n\t * Test for standard field validations\n\t * @param  {Node}   field    The field to test\n\t * @param  {Object} settings The plugin settings\n\t * @return {Object}          The tests and their results\n\t */\n\tvar runValidations = function (field, settings) {\n\t\treturn {\n\t\t\tmissingValue: missingValue(field),\n\t\t\tpatternMismatch: patternMismatch(field, settings),\n\t\t\toutOfRange: outOfRange(field),\n\t\t\twrongLength: wrongLength(field)\n\t\t};\n\t};\n\n\t/**\n\t * Run any provided custom validations\n\t * @param  {Node}   field       The field to test\n\t * @param  {Object} errors      The existing errors\n\t * @param  {Object} validations The custom validations to run\n\t * @param  {Object} settings    The plugin settings\n\t * @return {Object}             The tests and their results\n\t */\n\tvar customValidations = function (field, errors, validations, settings) {\n\t\tfor (var test in validations) {\n\t\t\tif (validations.hasOwnProperty(test)) {\n\t\t\t\terrors[test] = validations[test](field, settings);\n\t\t\t}\n\t\t}\n\t\treturn errors;\n\t};\n\n\t/**\n\t * Check if a field has any errors\n\t * @param  {Object}  errors The validation test results\n\t * @return {Boolean}        Returns true if there are errors\n\t */\n\tvar hasErrors = function (errors) {\n\t\tfor (var type in errors) {\n\t\t\tif (errors[type]) return true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Check a field for errors\n\t * @param  {Node} field      The field to test\n\t * @param  {Object} settings The plugin settings\n\t * @return {Object}          The field validity and errors\n\t */\n\tvar getErrors = function (field, settings) {\n\n\t\t// Get standard validation errors\n\t\tvar errors = runValidations(field,settings);\n\n\t\t// Check for custom validations\n\t\terrors = customValidations(field, errors, settings.customValidations, settings);\n\n\t\treturn {\n\t\t\tvalid: !hasErrors(errors),\n\t\t\terrors: errors\n\t\t};\n\n\t};\n\n\t/**\n\t * Escape special characters for use with querySelector\n\t * @author Mathias Bynens\n\t * @link https://github.com/mathiasbynens/CSS.escape\n\t * @param {String} id The anchor ID to escape\n\t */\n\tvar escapeCharacters = function (id) {\n\n\t\tvar string = String(id);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then throw an\n\t\t\t// `InvalidCharacterError` exception and terminate these steps.\n\t\t\tif (codeUnit === 0x0000) {\n\t\t\t\tthrow new InvalidCharacterError(\n\t\t\t\t\t'Invalid character: the input contains U+0000.'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index === 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex === 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit === 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// http://dev.w3.org/csswg/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit === 0x002D ||\n\t\t\t\tcodeUnit === 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// http://dev.w3.org/csswg/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\n\t\t// Return sanitized hash\n\t\treturn result;\n\n\t};\n\n\t/**\n\t * Get or create an ID for a field\n\t * @param  {Node}    field    The field\n\t * @param  {Object}  settings The plugin settings\n\t * @param  {Boolean} create   If true, create an ID if there isn't one\n\t * @return {String}           The field ID\n\t */\n\tvar getFieldID = function (field, settings, create) {\n\t\tvar id = field.name ? field.name : field.id;\n\t\tif (!id && create) {\n\t\t\tid = settings.fieldPrefix + Math.floor(Math.random() * 999);\n\t\t\tfield.id = id;\n\t\t}\n\t\tif (field.type === 'checkbox') {\n\t\t\tid += '_' + (field.value || field.id);\n\t\t}\n\t\treturn id;\n\t};\n\n\t/**\n\t * Special handling for radio buttons and checkboxes wrapped in labels.\n\t * @param  {Node} field The field with the error\n\t * @return {Node}       The field to show the error on\n\t */\n\tvar getErrorField = function (field) {\n\n\t\t// If the field is a radio button, get the last item in the radio group\n\t\t// @todo if location is before, get first item\n\t\tif (field.type === 'radio' && field.name) {\n\t\t\tvar group = field.form.querySelectorAll('[name=\"' + escapeCharacters(field.name) + '\"]');\n\t\t\tfield = group[group.length - 1];\n\t\t}\n\n\t\t// Get the associated label for radio button or checkbox\n\t\tif (field.type === 'radio' || field.type === 'checkbox') {\n\t\t\tvar label = field.closest('label') || field.form.querySelector('[for=\"' + field.id + '\"]');\n\t\t\tfield = label || field;\n\t\t}\n\n\t\treturn field;\n\n\t};\n\n\t/**\n\t * Get the location for a field's error message\n\t * @param  {Node}   field    The field\n\t * @param  {Node}   target   The target for error message\n\t * @param  {Object} settings The plugin settings\n\t * @return {Node}            The error location\n\t */\n\tvar getErrorLocation = function (field, target, settings) {\n\n\t\t// Check for a custom error message\n\t\tvar selector = field.getAttribute(settings.messageTarget);\n\t\tif (selector) {\n\t\t\tvar location = field.form.querySelector(selector);\n\t\t\tif (location) {\n\t\t\t\t// @bugfix by @HaroldPutman\n\t\t\t\t// https://github.com/cferdinandi/bouncer/pull/28\n\t\t\t\treturn location.firstChild || location.appendChild(document.createTextNode(''));\n\t\t\t}\n\t\t}\n\n\t\t// If the message should come after the field\n\t\tif (settings.messageAfterField) {\n\n\t\t\t// If there's no next sibling, create one\n\t\t\tif (!target.nextSibling) {\n\t\t\t\ttarget.parentNode.appendChild(document.createTextNode(''));\n\t\t\t}\n\n\t\t\treturn target.nextSibling;\n\n\t\t}\n\n\t\t// If it should come before\n\t\treturn target;\n\n\t};\n\n\t/**\n\t * Create a validation error message node\n\t * @param  {Node} field      The field\n\t * @param  {Object} settings The plugin settings\n\t * @return {Node}            The error message node\n\t */\n\tvar createError = function (field, settings) {\n\n\t\t// Create the error message\n\t\tvar error = document.createElement('div');\n\t\terror.className = settings.errorClass;\n\t\terror.id = settings.errorPrefix + getFieldID(field, settings, true);\n\n\t\t// If the field is a radio button or checkbox, grab the last field label\n\t\tvar fieldTarget = getErrorField(field);\n\n\t\t// Inject the error message into the DOM\n\t\tvar location = getErrorLocation(field, fieldTarget, settings);\n\t\tlocation.parentNode.insertBefore(error, location);\n\n\t\treturn error;\n\n\t};\n\n\t/**\n\t * Get the error message test\n\t * @param  {Node}            field    The field to get an error message for\n\t * @param  {Object}          errors   The errors on the field\n\t * @param  {Object}          settings The plugin settings\n\t * @return {String|Function}          The error message\n\t */\n\tvar getErrorMessage = function (field, errors, settings) {\n\n\t\t// Variables\n\t\tvar messages = settings.messages;\n\n\t\t// Missing value error\n\t\tif (errors.missingValue) {\n\t\t\treturn messages.missingValue[field.type] || messages.missingValue.default;\n\t\t}\n\n\t\t// Numbers that are out of range\n\t\tif (errors.outOfRange) {\n\t\t\treturn messages.outOfRange[errors.outOfRange].replace('{max}', field.getAttribute('max')).replace('{min}', field.getAttribute('min')).replace('{length}', field.value.length);\n\t\t}\n\n\t\t// Values that are too long or short\n\t\tif (errors.wrongLength) {\n\t\t\treturn messages.wrongLength[errors.wrongLength].replace('{maxLength}', field.getAttribute('maxlength')).replace('{minLength}', field.getAttribute('minlength')).replace('{length}', field.value.length);\n\t\t}\n\n\t\t// Pattern mismatch error\n\t\tif (errors.patternMismatch) {\n\t\t\tvar custom = field.getAttribute(settings.messageCustom);\n\t\t\tif (custom) return custom;\n\t\t\treturn messages.patternMismatch[field.type] || messages.patternMismatch.default;\n\t\t}\n\n\t\t// Custom validations\n\t\tfor (var test in settings.customValidations) {\n\t\t\tif (settings.customValidations.hasOwnProperty(test)) {\n\t\t\t\tif (errors[test] && messages[test]) return messages[test];\n\t\t\t}\n\t\t}\n\n\t\t// Fallback error message\n\t\treturn messages.fallback;\n\n\t};\n\n\t/**\n\t * Add error attributes to a field\n\t * @param  {Node}   field    The field with the error message\n\t * @param  {Node}   error    The error message\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar addErrorAttributes = function (field, error, settings) {\n\t\tfield.classList.add(settings.fieldClass);\n\t\tfield.setAttribute('aria-describedby', error.id);\n\t\tfield.setAttribute('aria-invalid', true);\n\t};\n\n\t/**\n\t * Show error attributes on a field or radio/checkbox group\n\t * @param  {Node}   field    The field with the error message\n\t * @param  {Node}   error    The error message\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar showErrorAttributes = function (field, error, settings) {\n\n\t\t// If field is a radio button, add attributes to every button in the group\n\t\tif (field.type === 'radio' && field.name) {\n\t\t\tArray.prototype.forEach.call(document.querySelectorAll('[name=\"' + field.name + '\"]'), (function (button) {\n\t\t\t\taddErrorAttributes(button, error, settings);\n\t\t\t}));\n\t\t}\n\n\t\t// Otherwise, add an error class and aria attribute to the field\n\t\taddErrorAttributes(field, error, settings);\n\n\t};\n\n\t/**\n\t * Show an error message in the DOM\n\t * @param  {Node} field      The field to show an error message for\n\t * @param  {Object}          errors   The errors on the field\n\t * @param  {Object}          settings The plugin settings\n\t */\n\tvar showError = function (field, errors, settings) {\n\n\t\t// Get/create an error message\n\t\tvar error = field.form.querySelector('#' + escapeCharacters(settings.errorPrefix + getFieldID(field, settings))) || createError(field, settings);\n\t\tvar msg = getErrorMessage(field, errors, settings);\n\t\terror.textContent = typeof msg === 'function' ? msg(field, settings) : msg;\n\n\t\t// Add error attributes\n\t\tshowErrorAttributes(field, error, settings);\n\n\t\t// Emit custom event\n\t\tif (settings.emitEvents) {\n\t\t\temitEvent(field, 'bouncerShowError', {\n\t\t\t\terrors: errors\n\t\t\t});\n\t\t}\n\n\t};\n\n\t/**\n\t * Remove error attributes from a field\n\t * @param  {Node}   field    The field with the error message\n\t * @param  {Node}   error    The error message\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar removeAttributes = function (field, settings) {\n\t\tfield.classList.remove(settings.fieldClass);\n\t\tfield.removeAttribute('aria-describedby');\n\t\tfield.removeAttribute('aria-invalid');\n\t};\n\n\t/**\n\t * Remove error attributes from the field or radio group\n\t * @param  {Node}   field    The field with the error message\n\t * @param  {Node}   error    The error message\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar removeErrorAttributes = function (field, settings) {\n\n\t\t// If field is a radio button, remove attributes from every button in the group\n\t\tif (field.type === 'radio' && field.name) {\n\t\t\tArray.prototype.forEach.call(document.querySelectorAll('[name=\"' + field.name + '\"]'), (function (button) {\n\t\t\t\tremoveAttributes(button, settings);\n\t\t\t}));\n\t\t\treturn;\n\t\t}\n\n\t\t// Otherwise, add an error class and aria attribute to the field\n\t\tremoveAttributes(field, settings);\n\n\t};\n\n\t/**\n\t * Remove an error message from the DOM\n\t * @param  {Node} field      The field with the error message\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar removeError = function (field, settings) {\n\n\t\t// Get the error message for this field\n\t\tvar error = field.form.querySelector('#' + escapeCharacters(settings.errorPrefix + getFieldID(field, settings)));\n\t\tif (!error) return;\n\n\t\t// Remove the error\n\t\terror.parentNode.removeChild(error);\n\n\t\t// Remove error and a11y from the field\n\t\tremoveErrorAttributes(field, settings);\n\n\t\t// Emit custom event\n\t\tif (settings.emitEvents) {\n\t\t\temitEvent(field, 'bouncerRemoveError');\n\t\t}\n\n\t};\n\n\t/**\n\t * Remove errors from all fields\n\t * @param  {String} selector The selector for the form\n\t * @param  {Object} settings The plugin settings\n\t */\n\tvar removeAllErrors = function (selector, settings) {\n\t\tforEach(document.querySelectorAll(selector), (function (form) {\n\t\t\tforEach(form.querySelectorAll('input, select, textarea'), (function (field) {\n\t\t\t\tremoveError(field, settings);\n\t\t\t}));\n\t\t}));\n\t};\n\n\t/**\n\t * The plugin constructor\n\t * @param {String} selector The selector to use for forms to be validated\n\t * @param {Object} options  User settings [optional]\n\t */\n\tvar Constructor = function (selector, options) {\n\n\t\t//\n\t\t// Variables\n\t\t//\n\n\t\tvar publicAPIs = {};\n\t\tvar settings;\n\n\n\t\t//\n\t\t// Methods\n\t\t//\n\n\t\t/**\n\t\t * Validate a field\n\t\t * @param  {Node} field     The field to validate\n\t\t * @param  {Object} options Validation options\n\t\t * @return {Object}         The validity state and errors\n\t\t */\n\t\tpublicAPIs.validate = function (field, options) {\n\n\t\t\t// Don't validate submits, buttons, file and reset inputs, and disabled and readonly fields\n\t\t\tif (field.disabled || field.readOnly || field.type === 'reset' || field.type === 'submit' || field.type === 'button') return;\n\n\t\t\t// Local settings\n\t\t\tvar _settings = extend(settings, options || {});\n\n\t\t\t// Check for errors\n\t\t\tvar isValid = getErrors(field, _settings);\n\n\t\t\t// If valid, remove any error messages\n\t\t\tif (isValid.valid) {\n\t\t\t\tremoveError(field, _settings);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, show an error message\n\t\t\tshowError(field, isValid.errors, _settings);\n\n\t\t\treturn isValid;\n\n\t\t};\n\n\t\t/**\n\t\t * Validate all fields in a form or section\n\t\t * @param  {Node} target The form or section to validate fields in\n\t\t * @return {Array}       An array of fields with errors\n\t\t */\n\t\tpublicAPIs.validateAll = function (target) {\n\t\t\treturn Array.prototype.filter.call(target.querySelectorAll('input, select, textarea'), (function (field) {\n\t\t\t\tvar validate = publicAPIs.validate(field);\n\t\t\t\treturn validate && !validate.valid;\n\t\t\t}));\n\t\t};\n\n\t\t/**\n\t\t * Run a validation on field blur\n\t\t */\n\t\tvar blurHandler = function (event) {\n\n\t\t\t// Only run if the field is in a form to be validated\n\t\t\tif (!event.target.form || !event.target.form.matches(selector)) return;\n\n\t\t\t// Validate the field\n\t\t\tpublicAPIs.validate(event.target);\n\n\t\t};\n\n\t\t/**\n\t\t * Run a validation on a fields with errors when the value changes\n\t\t */\n\t\tvar inputHandler = function (event) {\n\n\t\t\t// Only run if the field is in a form to be validated\n\t\t\tif (!event.target.form || !event.target.form.matches(selector)) return;\n\n\t\t\t// Only run on fields with errors\n\t\t\tif (!event.target.classList.contains(settings.fieldClass)) return;\n\n\t\t\t// Validate the field\n\t\t\tpublicAPIs.validate(event.target);\n\n\t\t};\n\n\t\t/**\n\t\t * Validate an entire form when it's submitted\n\t\t */\n\t\tvar submitHandler = function (event) {\n\n\t\t\t// Only run on matching elements\n\t\t\tif (!event.target.matches(selector)) return;\n\n\t\t\t// Prevent form submission\n\t\t\tevent.preventDefault();\n\n\t\t\t// Validate each field\n\t\t\tvar errors = publicAPIs.validateAll(event.target);\n\n\t\t\t// If there are errors, focus on the first one\n\t\t\tif (errors.length > 0) {\n\t\t\t\terrors[0].focus();\n\t\t\t\temitEvent(event.target, 'bouncerFormInvalid', {errors: errors});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, submit if not disabled\n\t\t\tif (!settings.disableSubmit) {\n\t\t\t\tevent.target.submit();\n\t\t\t}\n\n\t\t\t// Emit custom event\n\t\t\tif (settings.emitEvents) {\n\t\t\t\temitEvent(event.target, 'bouncerFormValid');\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * Destroy the current plugin instantiation\n\t\t */\n\t\tpublicAPIs.destroy = function () {\n\n\t\t\t// Remove event listeners\n\t\t\tdocument.removeEventListener('blur', blurHandler, true);\n\t\t\tdocument.removeEventListener('input', inputHandler, false);\n\t\t\tdocument.removeEventListener('click', inputHandler, false);\n\t\t\tdocument.removeEventListener('submit', submitHandler, false);\n\n\t\t\t// Remove all errors\n\t\t\tremoveAllErrors(selector, settings);\n\n\t\t\t// Remove novalidate attribute\n\t\t\tremoveNoValidate(selector);\n\n\t\t\t// Emit custom event\n\t\t\tif (settings.emitEvents) {\n\t\t\t\temitEvent(document, 'bouncerDestroyed', {\n\t\t\t\t\tsettings: settings\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Reset settings\n\t\t\tsettings = null;\n\n\t\t};\n\n\t\t/**\n\t\t * Instantiate a new instance of the plugin\n\t\t */\n\t\tvar init = function () {\n\n\t\t\t// Create settings\n\t\t\tsettings = extend(defaults, options || {});\n\n\t\t\t// Add novalidate attribute\n\t\t\taddNoValidate(selector);\n\n\t\t\t// Event Listeners\n\t\t\tdocument.addEventListener('blur', blurHandler, true);\n\t\t\tdocument.addEventListener('input', inputHandler, false);\n\t\t\tdocument.addEventListener('click', inputHandler, false);\n\t\t\tdocument.addEventListener('submit', submitHandler, false);\n\n\t\t\t// Emit custom event\n\t\t\tif (settings.emitEvents) {\n\t\t\t\temitEvent(document, 'bouncerInitialized', {\n\t\t\t\t\tsettings: settings\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\t//\n\t\t// Inits & Event Listeners\n\t\t//\n\n\t\tinit();\n\t\treturn publicAPIs;\n\n\t};\n\n\n\t//\n\t// Return the constructor\n\t//\n\n\treturn Constructor;\n\n}));","import Bouncer from '../../../node_modules/formbouncerjs/dist/bouncer.js'\n\n// Initialize form validation.\nfunction init () {\n  const validator = new Bouncer('[data-validate]', {\n    fieldClass: 'field',\n    errorClass: 'field__error-message',\n    fieldPrefix: 'validator-field__',\n    errorPrefix: 'validator-error__',\n    messageAfterField: false,\n    disableSubmit: true,\n    // Error messages by error type\n    messages: {\n      missingValue: {\n        checkbox: 'Required',\n        radio: 'Please select a value.',\n        select: 'Please select a value.',\n        'select-multiple': 'Please select at least one value.',\n        default: 'Required'\n      },\n      patternMismatch: {\n        email: 'Please enter a valid email address.',\n        url: 'Please enter a URL.',\n        number: 'Please enter a valid number.',\n        color: 'Please enter a color in `#rrggbb` format.',\n        date: 'Please enter a date in `YYYY-MM-DD` format',\n        time: 'Please use the 24-hour time format. Ex. 23:00',\n        month: 'Please use the YYYY-MM format',\n        default: 'Please match the requested format.'\n      },\n      outOfRange: {\n        over: 'Please select a value no more than {max}.',\n        under: 'Please select a value no less than {min}.'\n      },\n      wrongLength: {\n        over: 'Please limit your input to {maxLength} characters. You have entered {length} characters.',\n        under: 'Please enter {minLength} characters or more. You have entered {length} characters.'\n      }\n    }\n  })\n\n  if (document.querySelectorAll('[data-validate]').length) {\n    document.addEventListener('bouncerShowError', function (event) {\n      const field = event.target.parentElement\n      if (field.classList.contains('field')) {\n        field.classList.add('field--has-error')\n      }\n    })\n    document.addEventListener('bouncerRemoveError', function (event) {\n      const field = event.target.parentElement\n      if (field.classList.contains('field')) {\n        field.classList.remove('field--has-error')\n      }\n    })\n  }\n\n  return validator\n}\n\nexport default init\n","function DirtyInput (input, options = {}) {\n  options = Object.assign({\n    addToParent: true,\n    dirtyClass: 'field--is-dirty',\n    event: 'blur'\n  }, options)\n\n  input.addEventListener(options.event, function (event) {\n    if (event.target.value) {\n      (options.addToParent ? input.parentElement : input).classList.add(options.dirtyClass)\n    } else {\n      (options.addToParent ? input.parentElement : input).classList.remove(options.dirtyClass)\n    }\n  })\n}\n\nDirtyInput.init = function (selector = '.field__input') {\n  return document.querySelectorAll(selector).forEach(i => new DirtyInput(i))\n}\n\nexport default DirtyInput\n","import OffCanvasNav from './components/off-canvas/index.js'\nimport Toggles from './components/toggles/index.js'\nimport { validator, DirtyInput } from './components/field/index.js'\n\n/* eslint-disable-next-line */\nconst app = {\n  nav: new OffCanvasNav()\n}\n\n// Initialize Toggles.\nToggles.init()\n\n// Initialize form validation.\napp.validator = validator()\nDirtyInput.init()\n"],"names":["OffCanvasNav","options","Object","assign","toggleSelector","pageSelector","activeClass","dom","toggle","document","querySelector","page","addEventListener","bind","classList","add","remove","removeEventListener","el","selector","Array","prototype","filter","call","parentNode","children","sibling","matches","groups","id","Toggles","event","active","open","disabled","group","close","config","animateInClass","content","setTimeout","animation","target","animateOutClass","element","toggleClass","contentClass","groupClass","HTMLElement","dataset","nextElementSibling","closeButtons","querySelectorAll","openButtons","Boolean","toggleAnimation","parseInt","parentElement","toggleGroup","getSiblings","length","toString","toggles","push","forEach","button","init","root","factory","module","global","window","this","defaults","fieldClass","errorClass","fieldPrefix","errorPrefix","patterns","email","url","number","color","date","time","month","customValidations","messageAfterField","messageCustom","messageTarget","messages","missingValue","checkbox","radio","select","patternMismatch","outOfRange","over","under","wrongLength","fallback","disableSubmit","emitEvents","arr","callback","extend","merged","arguments","obj","key","hasOwnProperty","emitEvent","elem","type","details","CustomEvent","bubbles","detail","dispatchEvent","addNoValidate","form","setAttribute","removeNoValidate","removeAttribute","field","hasAttribute","checked","value","escapeCharacters","name","btn","settings","pattern","getAttribute","RegExp","match","max","min","num","parseFloat","runValidations","errors","validations","test","hasErrors","getErrors","valid","string","String","index","codeUnit","result","firstCodeUnit","charCodeAt","InvalidCharacterError","charAt","getFieldID","create","Math","floor","random","getErrorField","label","closest","getErrorLocation","location","firstChild","appendChild","createTextNode","nextSibling","createError","error","createElement","className","fieldTarget","insertBefore","getErrorMessage","replace","custom","addErrorAttributes","showErrorAttributes","showError","msg","textContent","removeAttributes","removeErrorAttributes","removeError","removeChild","removeAllErrors","Constructor","publicAPIs","validate","readOnly","_settings","isValid","validateAll","blurHandler","inputHandler","contains","submitHandler","preventDefault","focus","submit","destroy","validator","Bouncer","DirtyInput","input","addToParent","dirtyClass","i","app","nav"],"mappings":"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"}